<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Boda - Oscar & Maria</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
  /* --- FUENTES --- */
  @import url('https://fonts.googleapis.com/css2?family=Raleway:wght@300;500&family=Great+Vibes&display=swap');

  body {
    font-family: 'Raleway', sans-serif;
    margin: 0;
    padding: 0;
    background: linear-gradient(135deg, #f9ecec, #fffaf7);
    color: #333;
    text-align: center;
    overflow-x: hidden;
  }

  section {
    padding: 50px 20px;
    position: relative;
  }

  /* TITULOS */
  h1, h2 {
    font-family: 'Great Vibes', cursive;
    margin: 10px 0;
  }
  h1 {
    font-size: clamp(2.5rem, 8vw, 3.5rem);
    color: #e91e63;
  }
  h2 {
    font-size: clamp(1.8rem, 6vw, 2.4rem);
    color: #6b4226;
  }
  p { font-size: 1rem; line-height: 1.6; }

  /* BLOQUES ESTILO CRISTAL */
  .bloque {
    max-width: 800px;
    margin: 0 auto 40px;
    padding: 25px 15px;
    background: rgba(255,255,255,0.75);
    backdrop-filter: blur(8px);
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.1);
  }

  /* FOTO PRINCIPAL */
  .foto {
    width: 180px;
    height: 180px;
    border-radius: 50%;
    object-fit: cover;
    border: 5px solid #fff;
    margin: 20px 0;
    box-shadow: 0 4px 18px rgba(0,0,0,0.2);
  }

  /* EVENTOS */
  .evento img {
    width: 100%;
    max-width: 350px;
    border-radius: 14px;
    margin: 15px 0;
    box-shadow: 0 4px 16px rgba(0,0,0,0.2);
  }
  .mapa a { color: #e91e63; font-weight: bold; text-decoration: none; }

  /* BOTONES */
  .btn, button, .copy-btn {
    display: inline-block;
    margin-top: 15px;
    padding: 12px 26px;
    background: linear-gradient(135deg, #e91e63, #ad1457);
    color: #fff;
    border: none;
    border-radius: 30px;
    font-weight: bold;
    cursor: pointer;
    box-shadow: 0 4px 14px rgba(0,0,0,0.25);
    transition: transform 0.25s ease, opacity 0.25s ease;
  }
  .btn:hover, button:hover, .copy-btn:hover {
    transform: scale(1.05);
    opacity: 0.9;
  }

  /* CUENTA ATR√ÅS */
  #countdown {
    font-size: 1.6rem;
    font-weight: bold;
    color: #6b4226;
    text-shadow: 1px 1px 3px rgba(255,255,255,0.8);
    margin: 15px 0;
  }

  /* ITINERARIO */
  .itinerario {
    background: rgba(233,30,99,0.08);
    border-left: 4px solid #e91e63;
    border-radius: 8px;
    padding: 15px;
    margin: 20px auto;
    text-align: left;
    display: inline-block;
    font-size: 1rem;
  }

  /* FORMULARIOS */
  input, select {
    width: 90%;
    max-width: 400px;
    padding: 12px;
    border: 2px solid #e7c6b5;
    border-radius: 8px;
    margin-top: 10px;
  }

  /* REGALOS */
  .cuenta {
    display: flex;
    justify-content: center;
    align-items: center;
    gap: 12px;
    flex-wrap: wrap;
    margin-top: 15px;
  }
  #iban {
    background: #fff;
    color: #333;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: bold;
    font-size: 0.9rem;
    word-break: break-word;
  }

  .final h2 {
    font-size: 2rem;
    color: #e91e63;
  }

  /* MOBILE FIRST */
  @media (max-width: 600px) {
    section { padding: 30px 15px; }
    h1 { font-size: 2.3rem; }
    h2 { font-size: 1.6rem; }
    .foto { width: 150px; height: 150px; }
  }
  </style>
</head>
<body>

  <!-- PRESENTACI√ìN -->
  <section class="bloque">
    <h1>Oscar & Maria</h1>
    <h2>¬°Nos casamos!</h2>
    <h3>6 de Junio de 2026</h3>
    <img src="foto-pareja.jpg" alt="Pareja" class="foto">
    <p>Despu√©s de casi 10 a√±os juntos‚Ä¶ ¬°al fin nos casamos!</p>
  </section>

  <!-- CUENTA ATR√ÅS -->
  <section class="bloque">
    <h2>Tan solo quedan‚Ä¶</h2>
    <div id="countdown"></div>
    <p>El <strong>6 de Junio de 2026</strong> ser√° un d√≠a muy especial y queremos compartirlo con vosotros.</p>
  </section>

  <!-- CEREMONIA -->
  <section class="bloque evento">
    <h2>Ceremonia</h2>
    <img src="iglesia.jpg" alt="Iglesia San Jorge Paiporta">
    <p><strong>Iglesia San Jorge</strong><br>Paiporta, Valencia</p>
    <div class="mapa">
      <a href="https://www.google.com/maps?q=Iglesia+San+Jorge+Paiporta" target="_blank">üìç Ver en Google Maps</a>
    </div>
  </section>

  <!-- CELEBRACI√ìN -->
  <section class="bloque evento">
    <h2>Celebraci√≥n</h2>
    <img src="alqueria.jpg" alt="Alquer√≠a Kukala Valencia">
    <p><strong>Alquer√≠a Kukala</strong><br>Valencia</p>
    <div class="mapa">
      <a href="https://www.google.com/maps?q=Alqueria+Kukala+Valencia" target="_blank">üìç Ver en Google Maps</a>
    </div>
  </section>

  <!-- ITINERARIO -->
  <section class="bloque">
    <h2>Itinerario</h2>
    <div class="itinerario">
      ‚õ™Ô∏è Ceremonia - 12:30 h <br>
      ü•Ç Cocktail - 14:30 h <br>
      üçΩÔ∏è Banquete - 16:00 h <br>
      üéµ Fiesta - 18:00 h <br>
      üöò Fin - 23:00 h
    </div>
  </section>

  <!-- CANCI√ìN -->
  <section class="bloque">
    <h2>üéµ Pide tu canci√≥n</h2>
    <input type="text" id="cancion" placeholder="Ejemplo: Despacito - Luis Fonsi">
    <button onclick="guardarCancion()">Enviar</button>
  </section>

  <!-- CONFIRMACI√ìN -->
  <section class="bloque">
    <h2>üíå Confirmaci√≥n de asistencia</h2>
    <form id="formConfirmacion" onsubmit="event.preventDefault(); confirmarAsistencia();">
      <label>¬øAsistir√°s?</label><br>
      <label><input type="radio" name="asistencia" value="S√≠" checked> S√≠</label>
      <label><input type="radio" name="asistencia" value="No"> No</label><br><br>

      <label>Nombre(s) *</label><br>
      <input type="text" id="nombre" required><br><br>

      <label>Cantidad de personas:</label><br>
      <select id="cantidad">
        <option value="1">1</option><option value="2">2</option>
        <option value="3">3</option><option value="4">4</option>
        <option value="5">5</option><option value="6">6</option>
        <option value="7">7</option><option value="8">8</option>
        <option value="9">9</option><option value="10">10</option>
      </select><br><br>

      <label>Alergias / Intolerancias / Vegano:</label><br>
      <input type="text" id="alergias"><br><br>

      <label>¬øCoges autob√∫s? (14:00 Paiporta - Kukala)</label><br>
      <label><input type="radio" name="bus" value="S√≠" checked onchange="mostrarOpcionesVuelta()"> S√≠</label>
      <label><input type="radio" name="bus" value="No" onchange="mostrarOpcionesVuelta()"> No</label><br><br>

      <div id="opcionesVuelta">
        <label>Hora de vuelta:</label><br>
        <select id="horaVuelta">
          <option value="20:00">20:00</option>
          <option value="23:00">23:00</option>
        </select>
      </div><br>

      <button type="submit">Confirmar asistencia</button>
    </form>
  </section>

  <!-- REGALO -->
  <section class="bloque">
    <h2>Regalo</h2>
    <p>Si quer√©is participar en nuestro viaje de luna de miel:</p>
    <div class="cuenta">
      <span id="iban">ES12 3456 7890 1234 5678 9012</span>
      <button class="copy-btn" onclick="copiarIBAN()">Copiar</button>
    </div>
    <p>Tambi√©n aceptamos ‚úâÔ∏è üòâ</p>
  </section>

  <!-- FINAL -->
  <section class="bloque final">
    <h2>Oscar & Maria</h2>
    <p>¬°Os esperamos a todos!</p>
  </section>

  <script>
    // Cuenta atr√°s
    const countdown = document.getElementById("countdown");
    const targetDate = new Date("June 6, 2026 17:00:00").getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const diff = targetDate - now;
      if (diff > 0) {
        const days = Math.floor(diff / (1000 * 60 * 60 * 24));
        const hours = Math.floor((diff % (1000 * 60 * 60 * 24)) / (1000*60*60));
        const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000*60));
        const seconds = Math.floor((diff % (1000 * 60)) / 1000);
        countdown.innerHTML = `${days} d√≠as ${hours}h ${minutes}m ${seconds}s`;
      } else {
        countdown.innerHTML = "¬°Hoy es el gran d√≠a! üíç";
      }
    }, 1000);

    // Copiar IBAN
    function copiarIBAN() {
      const iban = document.getElementById("iban").innerText;
      navigator.clipboard.writeText(iban).then(() => {
        alert("N√∫mero de cuenta copiado ‚úÖ");
      });
    }

    // URLs de Google Apps Script
    const URL_CANCIONES = "https://script.google.com/macros/s/AKfycbxwmSUqIavmbH3gpi9eZo6cWYFu20r43l03eSmvLmwwbqArvZ8Sea8NR8U2ZF1mizwW/exec";
    const URL_CONFIRMACIONES = "https://script.google.com/macros/s/AKfycbxXCQj6e9z9_L6PlQebyTSt7K18eoDQeIB-43t9OwKLgQHa4SeNfdXGFZ2KjglSHQqK/exec";
  
    // Guardar canci√≥n
    function guardarCancion() {
      const cancion = document.getElementById("cancion").value.trim();
      if (!cancion) { alert("Por favor escribe una canci√≥n."); return; }
      fetch(URL_CANCIONES, { method: "POST", body: JSON.stringify({ cancion }) })
        .then(() => {
          alert("‚úÖ Canci√≥n guardada correctamente");
          document.getElementById("cancion").value = "";
        })
        .catch(() => alert("‚ùå Error al guardar la canci√≥n"));
    }

    // Mostrar / ocultar opciones bus
    function mostrarOpcionesVuelta() {
      const bus = document.querySelector('input[name="bus"]:checked').value;
      document.getElementById("opcionesVuelta").style.display = (bus === "S√≠") ? "block" : "none";
    }

    // Confirmar asistencia
    function confirmarAsistencia() {
      const asistencia = document.querySelector('input[name="asistencia"]:checked').value;
      const nombre = document.getElementById("nombre").value.trim();
      const cantidad = document.getElementById("cantidad").value;
      const alergias = document.getElementById("alergias").value.trim();
      const bus = document.querySelector('input[name="bus"]:checked').value;
      const horaVuelta = (bus === "S√≠") ? document.getElementById("horaVuelta").value : "";
      if (!nombre) { alert("Por favor introduce tu nombre."); return; }
      fetch(URL_CONFIRMACIONES, {
        method: "POST",
        body: JSON.stringify({ asistencia, nombre, cantidad, alergias, bus, horaVuelta })
      }).then(() => {
        alert("üíå ¬°Gracias por confirmar tu asistencia!");
        document.getElementById("formConfirmacion").reset();
        mostrarOpcionesVuelta();
      }).catch(() => alert("‚ùå Error al confirmar asistencia, int√©ntalo de nuevo"));
    }

    window.onload = () => { mostrarOpcionesVuelta(); };
  </script>
</body>
</html>
