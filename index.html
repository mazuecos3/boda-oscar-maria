<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boda Oscar & María</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Raleway:wght@400;600&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Raleway', sans-serif;
      background: #fff;
      color: #333;
      text-align: center;
      line-height: 1.6;
    }
    h1,h2 {
      font-family: 'Great Vibes', cursive;
      color: #6b4226;
    }
    section {
      padding: 60px 20px;
      max-width: 900px;
      margin: auto;
    }

    /* Hero */
    .hero {
      background: url("foto-pareja.jpg") center/cover no-repeat;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      position: relative;
    }
    .overlay {
      background: rgba(0,0,0,0.5);
      padding: 30px;
      border-radius: 15px;
      color: #fff;
      animation: fadeIn 2s ease;
    }
    .overlay h1 { font-size: 3rem; margin: 0; }
    .overlay p { font-size: 1.2rem; margin-top: 10px; }

    /* Botón */
    .btn {
      display: inline-block;
      margin-top: 15px;
      padding: 12px 30px;
      background: #e7c6b5;
      color: #fff;
      border-radius: 30px;
      text-decoration: none;
      transition: 0.3s;
    }
    .btn:hover { background: #d0a48b; transform: scale(1.05); }

    /* Cuenta atrás */
    #countdown {
      font-size: 2rem;
      color: #6b4226;
      margin-top: 15px;
    }

    /* Bloques con icono */
    .icon-block {
      font-size: 3rem;
      margin-bottom: 15px;
    }

    /* Cronograma */
    .timeline li {
      list-style: none;
      margin: 12px 0;
      font-size: 1.1rem;
    }

    /* Imagenes de lugares */
    .evento img {
      width: 100%;
      max-width: 350px;
      border-radius: 12px;
      margin: 15px 0;
    }
    .mapa a {
      color: #6b4226;
      font-weight: bold;
      text-decoration: none;
    }

    /* Formulario */
    form {
      margin-top: 20px;
    }
    label {
      display: block;
      margin: 10px 0 5px;
      font-weight: 600;
    }
    input,select,textarea {
      padding: 12px;
      width: 90%;
      max-width: 400px;
      border: 2px solid #e7c6b5;
      border-radius: 8px;
      margin-bottom: 12px;
      font-size: 1rem;
    }
    button {
      padding: 12px 25px;
      border: none;
      border-radius: 25px;
      background: #e7c6b5;
      color: #fff;
      cursor: pointer;
      font-size: 1rem;
      transition: 0.3s;
    }
    button:hover { background: #d0a48b; }

    /* Animaciones */
    @keyframes fadeIn { from {opacity:0;} to {opacity:1;} }

    /* Responsive */
    @media(max-width:768px){
      .overlay h1{font-size:2.4rem;}
      section{padding:40px 15px;}
    }
  </style>
</head>
<body>

  <!-- Hero -->
  <header class="hero">
    <div class="overlay">
      <h1>Oscar & María</h1>
      <p>06·06·2026</p>
      <a href="#countdown" class="btn">Descubrir</a>
      <div id="countdown"></div>
    </div>
  </header>

  <!-- Cronograma -->
  <section>
    <div class="icon-block">📅</div>
    <h2>Cronograma</h2>
    <ul class="timeline">
      <li>⛪ <strong>12:30</strong> Ceremonia</li>
      <li>🥂 <strong>14:30</strong> Cocktail</li>
      <li>🍽️ <strong>16:00</strong> Banquete</li>
      <li>🎵 <strong>18:00</strong> Fiesta</li>
      <li>🚌 <strong>20:00</strong> Autobús</li>
      <li>🚌 <strong>23:00</strong> Autobús</li>
    </ul>
  </section>

  <!-- Ceremonia -->
  <section class="evento">
    <div class="icon-block">⛪</div>
    <h2>Ceremonia</h2>
    <img src="iglesia.jpg" alt="Iglesia">
    <p><strong>Iglesia San Jorge</strong><br>Paiporta, Valencia</p>
    <div class="mapa"><a href="https://www.google.com/maps?q=Iglesia+San+Jorge+Paiporta" target="_blank">📍 Ver en Google Maps</a></div>
  </section>

  <!-- Celebración -->
  <section class="evento">
    <div class="icon-block">🎉</div>
    <h2>Celebración</h2>
    <img src="alqueria.jpg" alt="Alquería Kukala">
    <p><strong>Alquería Kukala</strong><br>Valencia</p>
    <div class="mapa"><a href="https://www.google.com/maps?q=Alqueria+Kukala+Valencia" target="_blank">📍 Ver en Google Maps</a></div>
  </section>

  <!-- Canciones -->
  <section>
    <div class="icon-block">🎵</div>
    <h2>Pide tu canción</h2>
    <p>¿Qué canción te gustaría escuchar?</p>
    <input type="text" id="cancion" placeholder="Ejemplo: Despacito - Luis Fonsi">
    <br>
    <button onclick="guardarCancion()">Enviar</button>
  </section>

  <!-- Confirmación -->
  <section>
    <div class="icon-block">💌</div>
    <h2>Confirmación de asistencia</h2>
    <form id="formConfirmacion" onsubmit="event.preventDefault(); confirmarAsistencia();">
      <label>¿Asistirás?</label>
      <select id="asistencia" required>
        <option value="">-- Selecciona --</option>
        <option value="Sí">Sí, allí estaré</option>
        <option value="No">Lo siento, no podré</option>
      </select>

      <label>Nombre(s)</label>
      <input type="text" id="nombre" required>

      <label>Adultos</label>
      <select id="adultos"><option>1</option><option>2</option><option>3</option></select>

      <label>Niños</label>
      <select id="ninos"><option>0</option><option>1</option><option>2</option></select>

      <label>Alergias / Menú especial</label>
      <input type="text" id="alergias" placeholder="Ejemplo: Sin gluten, vegano...">

      <label>¿Coges autobús?</label>
      <select id="bus" onchange="mostrarOpcionesVuelta()">
        <option value="Sí">Sí</option>
        <option value="No">No</option>
      </select>

      <div id="opcionesVuelta">
        <label>Hora de vuelta</label>
        <select id="horaVuelta">
          <option value="20:00">20:00</option>
          <option value="23:00">23:00</option>
        </select>
      </div>

      <button type="submit">Confirmar asistencia</button>
    </form>
  </section>

  <!-- Regalo -->
  <section>
    <div class="icon-block">🎁</div>
    <h2>Regalo</h2>
    <p>Lo más importante es que nos acompañéis 💕<br>Si queréis participar en nuestra luna de miel:</p>
    <p><strong id="iban">ES12 3456 7890 1234 5678 9012</strong></p>
    <button onclick="copiarIBAN()">Copiar cuenta</button>
  </section>

  <!-- Final -->
  <section>
    <div class="icon-block">💍</div>
    <h2>Oscar & María</h2>
    <p>¡Os esperamos con ilusión!</p>
  </section>

  <script>
    // Cuenta atrás
    const countdown = document.getElementById("countdown");
    const targetDate = new Date("June 6, 2026 17:00:00").getTime();
    setInterval(() => {
      const now = new Date().getTime();
      const diff = targetDate - now;
      if (diff > 0) {
        const d = Math.floor(diff / (1000*60*60*24));
        const h = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));
        const m = Math.floor((diff % (1000*60*60)) / (1000*60));
        const s = Math.floor((diff % (1000*60)) / 1000);
        countdown.innerHTML = `${d}d ${h}h ${m}m ${s}s`;
      } else {
        countdown.innerHTML = "¡Hoy es el gran día! 💍";
      }
    }, 1000);

    // Copiar IBAN
    function copiarIBAN() {
      const iban = document.getElementById("iban").innerText;
      navigator.clipboard.writeText(iban).then(() => alert("Número de cuenta copiado ✅"));
    }

    // Mostrar opciones de vuelta
    function mostrarOpcionesVuelta() {
      const bus = document.getElementById("bus").value;
      document.getElementById("opcionesVuelta").style.display = (bus === "Sí") ? "block" : "none";
    }
    window.onload = mostrarOpcionesVuelta;

    // URLs Google Script (cámbialas por las tuyas)
    const URL_CANCIONES = "https://script.google.com/macros/s/TU_SCRIPT_CANCIONES/exec";
    const URL_CONFIRMACIONES = "https://script.google.com/macros/s/TU_SCRIPT_CONFIRMACIONES/exec";

    // Guardar canción
    function guardarCancion() {
      const cancion = document.getElementById("cancion").value.trim();
      if (!cancion) { alert("Por favor escribe una canción."); return; }
      fetch(URL_CANCIONES, { method: "POST", body: JSON.stringify({ cancion }) })
        .then(() => { alert("✅ Canción guardada"); document.getElementById("cancion").value = ""; })
        .catch(() => alert("❌ Error al guardar la canción"));
    }

    // Confirmar asistencia
    function confirmarAsistencia() {
      const asistencia = document.getElementById("asistencia").value;
      const nombre = document.getElementById("nombre").value.trim();
      const adultos = document.getElementById("adultos").value;
      const ninos = document.getElementById("ninos").value;
      const alergias = document.getElementById("alergias").value.trim();
      const bus = document.getElementById("bus").value;
      const horaVuelta = (bus === "Sí") ? document.getElementById("horaVuelta").value : "";
      if (!asistencia || !nombre) { alert("Por favor completa los campos obligatorios."); return; }
      fetch(URL_CONFIRMACIONES, {
        method: "POST",
        body: JSON.stringify({ asistencia, nombre, adultos, ninos, alergias, bus, horaVuelta })
      }).then(() => {
        alert("💌 ¡Gracias por confirmar!");
        document.getElementById("formConfirmacion").reset();
        mostrarOpcionesVuelta();
      }).catch(() => alert("❌ Error al confirmar asistencia"));
    }
  </script>
</body>
</html>
